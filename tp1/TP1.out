SQL> -- Req 1
SQL> SELECT
  2    DISTINCT(COURS.SIGLE), COURS.TITRE, PROFESSEUR.NOM, PROFESSEUR.PRENOM
  3  FROM
  4    COURS, GROUPECOURS, PROFESSEUR, INSCRIPTION
  5  WHERE
  6    COURS.SIGLE = GROUPECOURS.SIGLE
  7  AND
  8    GROUPECOURS.CODEPROFESSEUR = PROFESSEUR.CODEPROFESSEUR
  9  AND
 10    INSCRIPTION.SIGLE = GROUPECOURS.SIGLE
 11  AND
 12    INSCRIPTION.CODEPERMANENT = 'LAVP08087001';
SQL> -- Req 2
SQL> SELECT
  2    DISTINCT(GROUPECOURS.CODEPROFESSEUR), PROFESSEUR.NOM, PROFESSEUR.PRENOM
  3  FROM
  4    GROUPECOURS, PROFESSEUR
  5  WHERE ((
  6      (SIGLE = 'INF3180' OR SIGLE = 'INF2110') AND
  7      CODESESSION = '12004'
  8  ) OR (
  9      (SIGLE = 'INF1130' OR SIGLE = 'INF1110') AND
 10      CODESESSION = '32003'
 11  )) AND
 12    GROUPECOURS.CODEPROFESSEUR = PROFESSEUR.CODEPROFESSEUR;
SQL> -- Req 3
SQL> SELECT
  2      INSCRIPTION.CODEPERMANENT, INSCRIPTION2.CODEPERMANENT2,
  3      INSCRIPTION.SIGLE, INSCRIPTION.CODESESSION, INSCRIPTION.NOTE
  4  FROM
  5      INSCRIPTION
  6  JOIN
  7      (SELECT
  8          CODEPERMANENT AS CODEPERMANENT2, NOTE, SIGLE, CODESESSION
  9      FROM
 10          INSCRIPTION) INSCRIPTION2
 11  ON (
 12      INSCRIPTION.NOTE = INSCRIPTION2.NOTE AND
 13      INSCRIPTION.SIGLE = INSCRIPTION2.SIGLE AND
 14      INSCRIPTION.CODESESSION = INSCRIPTION2.CODESESSION
 15  )
 16  WHERE
 17      INSCRIPTION.CODEPERMANENT != INSCRIPTION2.CODEPERMANENT2;
SQL> -- Req 4
SQL> SELECT
  2      INSCRIPTION.CODEPERMANENT, ETUDIANT.NOM AS NOMETUDIANT,
  3      ETUDIANT.PRENOM AS PRENOMETUDIANT, INSCRIPTION.SIGLE
  4  FROM
  5      INSCRIPTION, GROUPECOURS, PROFESSEUR, ETUDIANT
  6  WHERE
  7      INSCRIPTION.SIGLE LIKE 'INF%'
  8  AND
  9      (INSCRIPTION.CODESESSION = '32003' OR INSCRIPTION.CODESESSION = '12004')
 10  AND
 11      PROFESSEUR.NOM = 'De Vinci'
 12  AND
 13      INSCRIPTION.CODEPERMANENT = ETUDIANT.CODEPERMANENT
 14  AND
 15      INSCRIPTION.SIGLE = GROUPECOURS.SIGLE
 16  AND
 17      INSCRIPTION.CODESESSION = GROUPECOURS.CODESESSION
 18  AND
 19      INSCRIPTION.NOGROUPE = GROUPECOURS.NOGROUPE
 20  AND
 21      GROUPECOURS.CODEPROFESSEUR = PROFESSEUR.CODEPROFESSEUR
 22  AND
 23      INSCRIPTION.DATEABANDON IS NULL;
SQL> -- Req 5
SQL> SELECT CODEPROFESSEUR, NOM, PRENOM FROM (
  2      SELECT
  3          COUNT(*) AS COMTECOURS, GROUPECOURS.CODEPROFESSEUR, PROFESSEUR.NOM, PROFESSEUR.PRENOM
  4      FROM
  5          SESSIONUQAM, GROUPECOURS, PROFESSEUR
  6      WHERE
  7          SESSIONUQAM.CODESESSION = '32003'
  8      AND
  9          SESSIONUQAM.CODESESSION = GROUPECOURS.CODESESSION
 10      AND
 11          GROUPECOURS.CODEPROFESSEUR = PROFESSEUR.CODEPROFESSEUR
 12      GROUP BY
 13          GROUPECOURS.CODEPROFESSEUR, PROFESSEUR.NOM, PROFESSEUR.PRENOM
 14  )
 15  WHERE
 16    COMTECOURS <= 1;
SQL> -- Req 6
SQL> SELECT
  2      CODEPERMANENT, NOM, PRENOM
  3  FROM
  4      ETUDIANT
  5  WHERE
  6      NOM LIKE 'T%' OR NOM LIKE '%a%';
SQL> -- Req 7
SQL> SELECT
  2      DISTINCT(SIGLE)
  3  FROM
  4      GROUPECOURS
  5  WHERE
  6      GROUPECOURS.SIGLE
  7  NOT IN (
  8    SELECT
  9      DISTINCT(SIGLE)
 10    FROM
 11      GROUPECOURS
 12    WHERE
 13      CODEPROFESSEUR = (
 14        SELECT
 15            CODEPROFESSEUR
 16        FROM
 17            PROFESSEUR
 18        WHERE
 19            NOM = 'Galois' AND PRENOM = 'Evariste'
 20        AND
 21            ROWNUM = 1
 22    )
 23  );
SQL> -- Req 8
SQL> SELECT
  2      MOYENNE1, MOYENNE2, MOYENNE1-MOYENNE2 AS DIFF
  3  FROM (
  4      SELECT
  5          ROUND(AVG(NOTE), 2) AS MOYENNE1
  6      FROM
  7          INSCRIPTION
  8      WHERE
  9          CODESESSION = '32003'
 10  ), (
 11      SELECT
 12           ROUND(AVG(NOTE), 2) AS MOYENNE2
 13      FROM
 14          INSCRIPTION
 15      WHERE
 16          CODESESSION = '12004'
 17  );
SQL> -- Req 9
SQL> SELECT BASE.SIGLE, BASE.TITRE, MAX(DIFF) AS DIFF FROM (
  2      SELECT
  3          INSCRIPTION.CODESESSION, INSCRIPTION.SIGLE, COURS.TITRE
  4      FROM
  5          INSCRIPTION, GROUPECOURS, COURS
  6      WHERE
  7          INSCRIPTION.SIGLE = GROUPECOURS.SIGLE
  8      AND
  9          INSCRIPTION.NOGROUPE = GROUPECOURS.NOGROUPE
 10      AND
 11          INSCRIPTION.CODESESSION = GROUPECOURS.CODESESSION
 12      AND
 13          GROUPECOURS.SIGLE = COURS.SIGLE
 14  ) BASE
 15  JOIN (
 16      SELECT
 17          MAX(NOTE), MIN(NOTE), MAX(NOTE) - MIN(NOTE) AS DIFF, SIGLE, NOGROUPE, CODESESSION
 18      FROM
 19          INSCRIPTION
 20      GROUP BY
 21          SIGLE, NOGROUPE, CODESESSION
 22  ) NOTES
 23  ON
 24      NOTES.SIGLE = BASE.SIGLE
 25  GROUP BY
 26      BASE.SIGLE, BASE.TITRE;
SQL> -- Req 10
SQL> UPDATE SESSIONUQAM
  2  SET
  3      SESSIONUQAM.DATEFIN = '22/12/2003'
  4  WHERE
  5      SESSIONUQAM.CODESESSION
  6  IN (
  7      SELECT
  8          CODESESSION
  9      FROM (
 10          SELECT
 11              AVG(NOTE) AS MOYENNE, SIGLE, CODESESSION, NOGROUPE
 12          FROM
 13              INSCRIPTION
 14          WHERE
 15              CODESESSION = '32003'
 16          GROUP BY
 17              SIGLE, CODESESSION, NOGROUPE
 18      )
 19      WHERE
 20          MOYENNE >= 80
 21  );

1 row updated.

SQL> -- Req 11
SQL> ALTER TABLE INSCRIPTION DROP COLUMN DATEABANDON;

Table INSCRIPTION altered.

SQL> ALTER TABLE GROUPECOURS DROP COLUMN MAXINSCRIPTIONS;

Table GROUPECOURS altered.

SQL> SELECT * FROM INSCRIPTION;
SQL> SELECT * FROM GROUPECOURS;
SQL> -- Req 12
SQL> DELETE
  2  FROM
  3      INSCRIPTION
  4  WHERE
  5      CODEPERMANENT IN (
  6          SELECT
  7              CODEPERMANENT
  8          FROM
  9              ETUDIANT
 10          WHERE
 11              ETUDIANT.NOM NOT LIKE 'T%'
 12      );

16 rows deleted.

SQL> DELETE
  2  FROM
  3      ETUDIANT
  4  WHERE
  5      ETUDIANT.NOM NOT LIKE 'T%';

8 rows deleted.

SQL> SELECT * FROM INSCRIPTION;
SQL> SELECT * FROM ETUDIANT;
SQL> SPOOL OFF;
